define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}});var __decorate=this&&this.__decorate||function(e,t,n,r){var a,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(o<3?a(s):o>3?a(t,n,s):a(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("app",["require","exports","./environment","aurelia-framework","aurelia-http-client","google-code-prettify"],function(e,t,n,r,a,o){"use strict";var s=(function(){function e(){}return e}(),function(){function e(e){this.client=e,this.showFormattedSql=!1,this.rawSql=n.default.debug?"SELECT * FROM Table T JOIN Other O ON O.Id = T.OtherId":""}return e.prototype.convert=function(){var e=this;if(this.rawSql)return this.client.createRequest("/api/sql/format").asPost().withHeader("Content-Type","text/plain").withContent(this.rawSql).send().then(function(t){var n=JSON.parse(t.response);e.formattedSql=n.Sql,e.timeTaken=n.Duration,e.showFormattedSql=!0}).catch(function(t){console.log(t.response),e.showNotification({message:t.response,type:"error"}),e.showFormattedSql=!1})},e.prototype.inputSqlKeyPress=function(e){return 13!=e.keyCode||!e.ctrlKey||(this.convert(),!1)},e.prototype.inputFocused=function(e){this.showFormattedSql=!1},e.prototype.formattedSqlFocused=function(e){this.showFormattedSql=!0},e.prototype.copy=function(){if(this.formattedCode){var e=document.createRange();e.selectNode(this.formattedCode),window.getSelection().addRange(e);var t=document.execCommand("copy");t&&this.showNotification({message:"Formatted SQL was successfully copied to clipboard",type:"success"}),window.getSelection().empty()}},e.prototype.showNotification=function(e){var t=this;this.message=e.message,this.messageType=e.type,setTimeout(function(){return t.message=""},5e3)},Object.defineProperty(e.prototype,"formattedSql",{get:function(){return this._formattedSql},set:function(e){this._formattedSql=e,this.formattedCode.innerHTML=o.prettyPrintOne(e.join("\n"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasFormattedSql",{get:function(){return this.formattedSql&&this.formattedSql.length>0},enumerable:!0,configurable:!0}),e=__decorate([r.autoinject,__metadata("design:paramtypes",[a.HttpClient])],e)}());t.App=s}),define("main",["require","exports","./environment","bootstrap"],function(e,t,n){"use strict";function r(e){e.use.standardConfiguration(),n.default.debug&&e.use.developmentLogging(),e.use.plugin("aurelia-bootstrap-plugin"),e.start().then(function(){return e.setRoot()})}Promise.config({warnings:{wForgottenReturn:!1}}),t.configure=r}),define("text!app.css",["module"],function(e){e.exports="html,\r\nbody {\r\n    padding: 0;\r\n    margin: 0;\r\n    height: 100vh;\r\n}\r\n\r\n.container-main {\r\n    height: 100vh;\r\n}\r\n\r\n.flex-parent {\r\n    display: flex;\r\n    flex-direction: column;\r\n    transition: all 0.5s;\r\n}\r\n\r\n.flex-fill {\r\n    flex: 1;\r\n}\r\n\r\ntextarea {\r\n    flex: 1;\r\n    box-sizing: border-box;\r\n    resize: none;\r\n    color: black;\r\n    border-width: 0;\r\n    width: 100%;\r\n    height: 75%;\r\n}\r\n\r\nbutton {\r\n    float: right;\r\n}\r\n\r\n.expand {\r\n    flex-grow: 3;\r\n}\r\n\r\n.panel-body {\r\n    padding: 0;\r\n    margin: 15px;\r\n}\r\n"}),define("text!app.html",["module"],function(e){e.exports='<template>\r\n    <require from="bootstrap/css/bootstrap.css"></require>\r\n    <require from="google-code-prettify/prettify.min.css"></require>\r\n    <require from="app.css"></require>\r\n\r\n    <require from="./navBar.html"></require>\r\n\r\n    <bs-container class="container-main flex-parent">\r\n\r\n        <navbar></navbar>\r\n\r\n        <bs-row class="flex-parent flex-fill ${!showFormattedSql ? \'expand\' : \'\'}">\r\n            <bs-panel \r\n                style="primary" header-text="Input Sql" show-title="true"\r\n                class="flex-parent flex-fill" body-class="flex-parent flex-fill">\r\n                <textarea \r\n                    class="text flex-fill" value.bind="rawSql"\r\n                    focus.trigger="inputFocused($event)"\r\n                    keydown.delegate="inputSqlKeyPress($event)"></textarea>\r\n\r\n                <bs-button-group align="right">\r\n                    <bs-button class="${rawSql ? \'\' : \'disabled\'}"\r\n                               glyph="random" title="Runs the sql formatter" press.call="convert()">\r\n                    </bs-button>\r\n                </bs-button-group>\r\n            </bs-panel>\r\n        </bs-row>\r\n\r\n        <bs-row class="flex-parent flex-fill ${showFormattedSql ? \'expand\' : \'\'}">\r\n            <bs-panel\r\n                style="primary" header-text="Formatted Sql" show-title="true" class="flex-parent flex-fill"\r\n                body-class="flex-parent flex-fill"\r\n                footer-text="Time Taken: ${timeTaken ? timeTaken : \'00:00.000\'}">\r\n                <div class="output-sql flex-parent flex-fill">\r\n                    <pre class="code prettyprint flex-fill" ref="formattedCode" click.trigger="formattedSqlFocused($event)">\r\n                    <template repeat.for="line of formattedSql">${\'\\n\' + line}</template>\r\n                    </pre>\r\n                </div>\r\n                <bs-button-group align="right">\r\n                    <bs-button class="${hasFormattedSql ? \'\' : \'disabled\'}"\r\n                                glyph="copy" title="copies the formatted sql to the clipboard" press.call="copy()">\r\n                    </bs-button>\r\n                </bs-button-group>\r\n            </bs-panel>\r\n        </bs-row>\r\n\r\n        <bs-row>\r\n            <!-- TODO: This is a hack. Need to implement offset within bs-column-->\r\n            <bs-column xs="1"></bs-column>\r\n            <bs-column xs="10">\r\n                <bs-alert show.bind="message" type.bind="messageType" dismissible="true">\r\n                    <bs-glyph icon="${messageType}-sign"></bs-glyph>\r\n                    ${message}\r\n                </bs-alert>\r\n            </bs-column>\r\n        </bs-row>\r\n\r\n    </bs-container>\r\n</template>'}),define("text!navBar.html",["module"],function(e){e.exports='<template>\r\n    <div class="navbar navbar-default">\r\n        <div class="container">\r\n            <div class="navbar-header">\r\n                <a href="../" class="navbar-brand">Laan Sql Format</a>\r\n                <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">\r\n                    <span class="icon-bar"></span>\r\n                    <span class="icon-bar"></span>\r\n                    <span class="icon-bar"></span>\r\n                </button>\r\n            </div>\r\n            <div class="navbar-collapse collapse" id="navbar-main">\r\n                <ul class="nav navbar-nav">\r\n                    <li><a href="http://github.com/benlaan/sqlformat">Read the code</a></li>\r\n                    <li><a href="http://github.com/benlaan/sqlformat/issues">Found a bug?</a></li>\r\n                </ul>\r\n\r\n                <ul class="nav navbar-nav pull-right">\r\n                    <li><a href="http://benlaan.com">by Ben Laan</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>'});
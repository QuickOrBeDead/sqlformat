define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}});var __decorate=this&&this.__decorate||function(e,t,n,r){var a,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(s=(o<3?a(s):o>3?a(t,n,s):a(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("app",["require","exports","./environment","aurelia-framework","aurelia-http-client","google-code-prettify"],function(e,t,n,r,a,o){"use strict";var s=(function(){function e(){}return e}(),function(){function e(e){this.client=e,this.rawSql=n.default.debug?"SELECT * FROM Table T JOIN Other O ON O.Id = T.OtherId":""}return e.prototype.convert=function(){var e=this;if(this.rawSql)return this.client.createRequest("/api/sql/format").asPost().withHeader("Content-Type","text/plain").withContent(this.rawSql).send().then(function(t){var n=JSON.parse(t.response);e.formattedSql=n.Sql,e.timeTaken=n.Duration}).catch(function(t){console.log(t.response),e.showNotification({message:t.response,type:"error"})})},e.prototype.inputSqlKeyPress=function(e){return 13!=e.keyCode||!e.ctrlKey||(this.convert(),!1)},e.prototype.copy=function(){if(this.formattedCode){var e=document.createRange();e.selectNode(this.formattedCode),window.getSelection().addRange(e);var t=document.execCommand("copy");t&&this.showNotification({message:"Formatted SQL was successfully copied to clipboard",type:"success"}),window.getSelection().empty()}},e.prototype.showNotification=function(e){var t=this;this.message=e.message,this.messageType=e.type,setTimeout(function(){return t.message=""},5e3)},Object.defineProperty(e.prototype,"formattedSql",{get:function(){return this._formattedSql},set:function(e){this._formattedSql=e,this.formattedCode.innerHTML=o.prettyPrintOne(e.join("\n"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasFormattedSql",{get:function(){return this.formattedSql&&this.formattedSql.length>0},enumerable:!0,configurable:!0}),e=__decorate([r.autoinject,__metadata("design:paramtypes",[a.HttpClient])],e)}());t.App=s}),define("main",["require","exports","./environment","bootstrap"],function(e,t,n){"use strict";function r(e){e.use.standardConfiguration(),n.default.debug&&e.use.developmentLogging(),e.use.plugin("aurelia-bootstrap-plugin"),e.start().then(function(){return e.setRoot()})}Promise.config({warnings:{wForgottenReturn:!1}}),t.configure=r}),define("text!app.html",["module"],function(e){e.exports='<template>\r\n    <require from="bootstrap/css/bootstrap.css"></require>\r\n    <require from="google-code-prettify/prettify.min.css"></require>\r\n    <require from="app.css"></require>\r\n\r\n    <require from="./navBar.html"></require>\r\n\r\n    <bs-container>\r\n\r\n        <navbar></navbar>\r\n\r\n        <bs-row>\r\n            <bs-column xs="12">\r\n                <bs-panel style="primary" header-text="Input Sql" show-title="true">\r\n                    <textarea\r\n                        class="code prettyprint lang-sql" value.bind="rawSql"\r\n                        keydown.delegate="inputSqlKeyPress($event)"></textarea>\r\n\r\n                    <bs-button-group align="right">\r\n                        <bs-button\r\n                            class="${rawSql ? \'\' : \'disabled\'}"\r\n                            glyph="random" title="Runs the sql formatter" press.call="convert()">\r\n                        </bs-button>\r\n                    </bs-button-group>\r\n                </bs-panel>\r\n            </bs-column>\r\n        </bs-row>\r\n\r\n        <bs-row>\r\n            <bs-column xs="12">\r\n                <bs-panel style="primary" header-text="Formatted Sql" show-title="true" footer-text="Time Taken: ${timeTaken ? timeTaken : \'00:00.000\'}">\r\n                    <div class="output-sql">\r\n                        <pre class="code prettyprint" ref="formattedCode">\r\n                            <template repeat.for="line of formattedSql">${\'\\n\' + line}</template>\r\n                        </pre>\r\n                    </div>\r\n                    <bs-button-group align="right">\r\n                        <bs-button\r\n                            class="${hasFormattedSql ? \'\' : \'disabled\'}"\r\n                            glyph="copy" title="copies the formatted sql to the clipboard" press.call="copy()">\r\n                        </bs-button>\r\n                    </bs-button-group>\r\n                </bs-panel>\r\n            </bs-column>\r\n        </bs-row>\r\n\r\n        <bs-row>\r\n            <!-- TODO: This is a hack. Need to implement offset within bs-column-->\r\n            <bs-column xs="1"></bs-column>\r\n            <bs-column xs="10">\r\n                <bs-alert show.bind="message" type.bind="messageType" dismissible="true">\r\n                    <bs-glyph icon="${messageType}-sign"></bs-glyph>\r\n                    ${message}\r\n                </bs-alert>\r\n            </bs-column>\r\n        </bs-row>\r\n\r\n    </bs-container>\r\n</template>'}),define("text!app.css",["module"],function(e){e.exports=".output-sql {\r\n    height:250px;\r\n    overflow-y: auto; \r\n    width: 100%;\r\n}\r\n\r\npre {\r\n    border: none !important;\r\n}\r\n\r\ntextarea {\r\n    background-color: transparent;\r\n    color: black;\r\n    border-width: 0;\r\n    width: 100%;\r\n    height: 110px;\r\n}\r\npre {\r\n    background-color: white;\r\n}\r\n"}),define("text!navBar.html",["module"],function(e){e.exports='<template>\r\n    <div class="navbar navbar-default">\r\n        <div class="container">\r\n            <div class="navbar-header">\r\n                <a href="../" class="navbar-brand">Laan Sql Format</a>\r\n                <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">\r\n                    <span class="icon-bar"></span>\r\n                    <span class="icon-bar"></span>\r\n                    <span class="icon-bar"></span>\r\n                </button>\r\n            </div>\r\n            <div class="navbar-collapse collapse" id="navbar-main">\r\n                <ul class="nav navbar-nav">\r\n                    <li><a href="http://github.com/benlaan/sqlformat">Read the code</a></li>\r\n                    <li><a href="http://github.com/benlaan/sqlformat/issues">Found a bug?</a></li>\r\n                </ul>\r\n\r\n                <ul class="nav navbar-nav pull-right">\r\n                    <li><a href="http://benlaan.com">by Ben Laan</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>'});
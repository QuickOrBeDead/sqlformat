{"version":3,"sources":["environment.ts","app.ts","main.ts","D:/dev/Github/benlaan/sqlformat/Laan.Sql.Formatter.Web/app/src/app.html","D:/dev/Github/benlaan/sqlformat/Laan.Sql.Formatter.Web/app/src/app.css","D:/dev/Github/benlaan/sqlformat/Laan.Sql.Formatter.Web/app/src/navBar.html"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport { autoinject } from 'aurelia-framework';\nimport { HttpClient } from 'aurelia-http-client';\nimport { prettyPrintOne } from 'google-code-prettify';\n\n// TODO: Find a real promise type definition\ndeclare class Promise<T> {\n}\n\nclass Notification {\n\n    public message: string;\n    public type: string;\n}\n\n@autoinject\nexport class App {\n\n  private _formattedSql: Array<string>;\n\n  public constructor(private client: HttpClient) {\n\n      this.rawSql = environment.debug ? \"SELECT * FROM Table T JOIN Other O ON O.Id = T.OtherId\" : \"\";\n  }\n\n  public convert(): Promise<void> {\n\n      if (!this.rawSql)\n          return;\n\n      return this\n          .client\n          .createRequest(\"/api/sql/format\")\n          .asPost()\n          .withHeader('Content-Type', 'text/plain')\n          .withContent(this.rawSql)\n          .send()\n          .then(r => {\n\n              var result = JSON.parse(r.response);\n              this.formattedSql = result.Sql;\n              this.timeTaken = result.Duration;\n          })\n          .catch(r => {\n\n              console.log(r.response);\n              this.showNotification({ message: r.response, type: \"error\" });\n          });\n  }\n\n  public inputSqlKeyPress(event: KeyboardEvent): boolean  {\r\n\r\n      if (event.keyCode == 13 && event.ctrlKey) {\r\n\r\n          this.convert();\r\n          return false;\r\n      }\r\n\r\n      return true;\r\n  }\n\n  public copy(): void {\n\n    if (!this.formattedCode)\n        return;\n\n    var range = document.createRange();\n    range.selectNode(this.formattedCode)\n    window.getSelection().addRange(range);\n    var success = document.execCommand(\"copy\");\n\n    if (success)\n        this.showNotification({ message: \"Formatted SQL was successfully copied to clipboard\", type: \"success\" });\n\n    window.getSelection().empty();\n  }\n\n  private showNotification(notification: Notification) {\n\n      this.message = notification.message;\n      this.messageType = notification.type;\n      setTimeout(() => this.message = \"\", 5000);\n  }\n\n  public get formattedSql(): Array<string> {\n\n      return this._formattedSql;\n  }\n\r\n  public set formattedSql(value: Array<string>) {\n\n      this._formattedSql = value;\n      this.formattedCode.innerHTML = prettyPrintOne(value.join(\"\\n\"));\n  }\n\n  public get hasFormattedSql(): boolean {\n\n      return this.formattedSql\n          && this.formattedSql.length > 0;\n  }\n\n  public timeTaken: string;\n  public rawSql: string;\n  public formattedCode: Element;\n\n  public message: string;\r\n  public messageType: string;\n}\n","import 'bootstrap';\nimport {Aurelia} from 'aurelia-framework';\nimport environment from './environment';\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\n(<any>Promise).config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia: Aurelia) {\n\n  aurelia.use\n    .standardConfiguration();\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  aurelia.use\n    .plugin('aurelia-bootstrap-plugin');\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n",null,null,null],"sourceRoot":"..\\src"}